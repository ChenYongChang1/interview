实现下面代码

```js
function machine() {
    
}
machine('ygy').execute() 
// start ygy
machine('ygy').do('eat').execute(); 
// start ygy
// ygy eat
machine('ygy').wait(5).do('eat').execute();
// start ygy
// wait 5s（这里等待了5s）
// ygy eat
machine('ygy').waitFirst(5).do('eat').execute();
// wait 5s
// start ygy
// ygy eat

```
实现：利用了async、栈、队列相关知识点
```js
let timeout = (time) => {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            resolve(true)
        }, time*1000)
    })
}

function machine(name) {
    let tasks = []
   
    function doTask(act) {
        let task = () => {
            console.log(`${name} ${act}`);
        }
        tasks.push(task)
        return this;
    }

    function execute(){
        tasks.reduce(async (promise, task) => {
            await promise;
            await task();
        }, Promise.resolve);
    }

    function waitFirst(sec) {
        const task = async () => {
            console.log(`wait ${sec}s`);
            await timeout(sec);
        };

        tasks.unshift(task);
        return this;
    }
    function wait(sec){
        const task = async () => {
            console.log(`wait ${sec}s`);
            await timeout(sec);
        };
        tasks.push(task);
        return this
    }
   
    return {
        execute,
        do: doTask,
        wait: wait,
        waitFirst
    };
}

```